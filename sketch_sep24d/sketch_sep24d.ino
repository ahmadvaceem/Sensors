#include <math.h>

int datArray[100][2] = {
{ 0 , -273 },
{ 10 , -55 },
{ 20 , -45 },
{ 30 , -39 },
{ 40 , -35 },
{ 50 , -31 },
{ 60 , -28 },
{ 70 , -25 },
{ 80 , -23 },
{ 90 , -21 },
{ 100 , -19 },
{ 110 , -17 },
{ 120 , -15 },
{ 130 , -13 },
{ 140 , -12 },
{ 150 , -10 },
{ 160 , -9 },
{ 170 , -8 },
{ 180 , -6 },
{ 190 , -5 },
{ 200 , -4 },
{ 210 , -3 },
{ 220 , -2 },
{ 230 , -1 },
{ 240 , 0 },
{ 250 , 1 },
{ 260 , 2 },
{ 270 , 3 },
{ 280 , 4 },
{ 290 , 5 },
{ 300 , 6 },
{ 310 , 6 },
{ 320 , 7 },
{ 330 , 8 },
{ 340 , 9 },
{ 350 , 10 },
{ 360 , 11 },
{ 370 , 12 },
{ 380 , 13 },
{ 390 , 14 },
{ 400 , 15 },
{ 410 , 16 },
{ 420 , 16 },
{ 430 , 17 },
{ 440 , 18 },
{ 450 , 19 },
{ 460 , 20 },
{ 470 , 21 },
{ 480 , 22 },
{ 490 , 23 },
{ 500 , 23 },
{ 510 , 24 },
{ 520 , 25 },
{ 530 , 26 },
{ 540 , 27 },
{ 550 , 28 },
{ 560 , 29 },
{ 570 , 30 },
{ 580 , 31 },
{ 590 , 32 },
{ 600 , 33 },
{ 610 , 34 },
{ 620 , 35 },
{ 630 , 36 },
{ 640 , 37 },
{ 650 , 38 },
{ 660 , 39 },
{ 670 , 40 },
{ 680 , 41 },
{ 690 , 42 },
{ 700 , 43 },
{ 710 , 44 },
{ 720 , 45 },
{ 730 , 47 },
{ 740 , 48 },
{ 750 , 49 },
{ 760 , 50 },
{ 770 , 52 },
{ 780 , 53 },
{ 790 , 55 },
{ 800 , 56 },
{ 810 , 58 },
{ 820 , 59 },
{ 830 , 61 },
{ 840 , 63 },
{ 850 , 65 },
{ 860 , 67 },
{ 870 , 69 },
{ 880 , 72 },
{ 890 , 74 },
{ 900 , 77 },
{ 910 , 80 },
{ 920 , 83 },
{ 930 , 86 },
{ 940 , 90 },
{ 950 , 95 },
{ 960 , 100 },
{ 970 , 106 },
{ 980 , 114 },
{ 990 , 124 }
};


int ThermistorPin = 0;
int Vo;
float R1 = 10000;
float b = 3435;
float t0 = 273.15;
float adc = 0;
float logR,T,R,Tc,Tf,Rth;
void setup(){
  Serial.begin(9600);
}
float Calculation(float adc)
{
  Vo = Vo = analogRead(ThermistorPin);
  R = (1024/adc - 1);
  logR = log(R);
  T= 1.0/ (1/(Vo+t0) + 1/b * logR);
  Tc = T - 273.15;
  //Tf = (Tc * 9.0)/ 5.0 + 32.0; 
  Rth = exp(b * (1/T - 1/(Vo+t0)));
  
  return Rth;
 }
void loop()
{
  while(adc<1025)
  {
  Serial.print("Temperature: ");   
  Serial.print(Tc);
  Serial.println(" C"); 
  Serial.print(Calculation(adc));
  Serial.print("K Rt; "); 
  delay(1000);
  adc++;
  }
}

